В проекте созданы сущности продукта, урока, группы и доступа студента к продукту. При создании пользователя он автоматически связывается со всеми продуктами в модели доступа (доступ по умолчанию False). При создании продукта он автоматически связывается со всеми пользователями в модели доступа (доступ по умолчанию False).<br>
При получении доступа к продукту пользователь распределяется в группу следующим образом. Если продукт уже начался пользователь занимает свободное место в группе, если свободных мест нет, то содается новая группа и в нее определяется пользователь. Если продукт еще не начался пользователь определяется в группу, где меньше всего добавленно пользователей. Если все группы заполненны, создается новая группа и пользователи делятся на приблизительно равное количество (количество пользователей не отличается больше, чем на 1) при условии что среднее арифметическое больше минимального количества пользователей в группе. Если среднее арифметическое меньше минимального количества пользователей в группе, то в каждую группу добавляется минимальное количество пользователей, а в последнюю сколько осталось.<br>
### Запуск проекта
1. Склонировать проект на свой компьютер
   ```
   git clone git@github.com:EugeniaGross/test_task_HQ.git
   ```
2. Создать и активировать виртуальное окружение, установить зависимости<br>
   Для Windows
   ```
   python -m venv venv
   source venv/Scripts/activate
   pip install requirements.txt
   ```
   Для Linux
   ```
   python -m venv venv
   source venv/bin/activate
   pip install requirements.txt
   ```
3. Выполнить миграции
   ```
   python manage.py migrate
   ```
4. Запустить сервер
   ```
   python manage.py runserver
   ```
### API
Реализовано API на список продуктов, доступных для покупки, которое включаtn в себя основную информацию о продукте и количество уроков, которые принадлежат продукту<br>
Пример запроса:<br>
http://127.0.0.1:8000/api/products/
```
[
    {
        "author": 1,
        "name": "Frontend-разработчик",
        "date": "2024-02-28T06:00:00Z",
        "price": 25000.0,
        "count_lessons": 3
    },
    {
        "author": 1,
        "name": "Основы программирования",
        "date": "2024-03-04T06:00:00Z",
        "price": 15000.0,
        "count_lessons": 2
    },
    ...
```
Реализовано API с выведением списка уроков по конкретному продукту к которому пользователь имеет доступ
Пример запроса:<br>
http://127.0.0.1:8000/api/products/](http://127.0.0.1:8000/api/products/1/lessons/
```
[
    {
        "name": "JavaScript",
        "video_url": "https://learn.javascript.ru/"
    },
    {
        "name": "HTML",
        "video_url": "https://developer.mozilla.org/ru/docs/Learn/HTML/Introduction_to_HTML/Getting_started"
    },
    {
        "name": "CSS",
        "video_url": "https://developer.mozilla.org/ru/docs/Learn/Getting_started_with_the_web/CSS_basics"
    }
]
```
Реализовано API со статистикой по продуктам
Пример запроса:<br>
http://127.0.0.1:8000/api/products_statistic/
```
[
    {
        "author": 1,
        "name": "Основы программирования",
        "date": "2024-03-04T06:00:00Z",
        "price": 15000.0,
        "count_students": 14,
        "fullness_of_groups": "77.77777777777779 %",
        "purchase_percentage": "93.33333333333333 %"
    },
    ...
```
